
 2일차 - 5 ~ 8강.



 # BeforeAdvice 구현하기.

BeforeAdvive 클래스 생성.
MethodBeforeAdvice 인터페이스를 implements한 후 before 메소드에 앞에서 실행될 로직을 구현한다.

AroundAdvice 클래스 생성.
MethodInterceptor 인터페이스를 implements한다.
invoke메소드에 앞에 로직 + Object result = invocation.proceed( ) + 뒤에 로직 + return result 로 구현.

XML 설명.
<bean id="proxy" class="org.springframework.aop.framework.ProxyFactoryBean">
	<property name="target" id="타겟클래스" />
	<property name="iterceptorNames>
		<list>
			<value>Advice 구현 클래스</value>
		<list>
	</property>
</bean>



 # After Returning Advice, Throwing Advice.

AfterReturningAdvice 클래스 생성.
AfterReturningAdvice 인터페이스를 implements한다.
afterReturning 메소드를 구현한다.
메소드의 리턴값, 메소드를 매개변수로 받아서 사용해서 뒤에 로직을 생성할 수 있다.

ThrowingAdvice 클래스 생성.
ThrowsAdvice를 implements한다.
public void afterThrowing( 처리할 예외 ) throws Throwable { 예외발생시 실행할 로직 ;  } 



 # Point cut( Weaving, Joint Point )

위빙( weaving ).
Proxy를 통해 보조업무들 사이에 주업무를 사용하는 모습을 의미한다.
실로 뜨개질하는 듯한 모습을 보고 이름을 지었다.

조인 포인트( JoinPoint )
Proxy에서 target으로 어떤 클래스를 선택했을때 그 클래스 안에 메소드들을 조인 포인트라고한다.

포인트 컷( Pointcuts ) 
target 클래스의 메소드들 중에 원하는 메소드만 조인 포인트로 사용하는 방법이다.

xml 설정.
<bean id="classicPointCut" class="org.springframework.aop.support.NameMatchMethodPointcut">
	<property name="mappedName" value="함수이름" />
</bean>
<bean id="classicBeforeAdvisor" class="org.springfamework.aop.support.DefaultPointcutAdvisor">
	<property name="advice" ref="어드바이스이름" />
	<property name="pointcut" ref="classicPointCut" />
</bean>



 # 간소화된 Advisor.

설명.
Advisor와 PointCut의 스크립트를 합쳐서 사용하는 방법이다.

xml 설정1. ( 일반적인 함수 설정 )
<bean id="classicPointCut" class="org.springframework.aop.support.NameMatchMethodPointcutAdvisor">
	<property name="advice" ref="어드바이스이름" />
	<property name="mappedName" >
		<list>
			<value>함수이름1</value>
			<value>함수이름2</value>
		</list>
	</property>
</bean>

xml 설정2. ( 함수이름에 정규식 사용 가능 )
<bean id="classicPointCut" class="org.springframework.aop.support.RegexpMethodPointcutAdvisor">
	<property name="advice" ref="어드바이스이름" />
	<property name="mappedName" >
		<list>
			<value>.*to.*</value>
			<value>함수이름2</value>
		</list>
	</property>
</bean>



