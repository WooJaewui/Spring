
 2일차 - 13 ~ 23강.


 
 # 페이지 공통분모 집중화.

공통 부분 집중화.
Header, Footer처럼 거의 대부분의 view 페이지에서 중복되는 소스코드를 하나의 소스코드로 만드는 것.



 # Tiles 지시서 작성하기.

Apatch Attic 라이브러리.
더 이상 발전할 기능이 없거나 사용할 필요가 없어진 라이브러리의 모임. ( 은퇴된 라이브러리 )

tilesViewResolver 설정방법.
webapp -> WEB-INF -> tiles.xml 생성.



 # TilesViewResolver 생성하기.

TilesViewResolver Configuration클래스 생성.
@Configuration.
public class TilesConfig { 
	@Bean
	public TilesConfigurer tilesConfigurer( ) { 
		TilesConfigurer tilesConfigurer = new TilesConfigurer( ) ;
		tilesConfigurer.setDefinitions( new String[ ] { "tiles.xml위치" } ) ; 
		tilesConfigurer.setCheckRefresh( true ) ;
		return tilesConfigurer ;
	}

	@Bean
	public TilesViewResolver tilesViewResolver( ) { 
		TilesViewResolver viewResolver = new TilesViewResolver( ) ;
		viewResolver.setViewClass( TilesView.class ) ;
		viewResolver.setOrder( 1 ) ;
		return viewResolver ;
	}
}

라이브러리.
POM.XML -> tiles-jsp와 JSTL 설정.

layout.jsp설정.
<%@ taglib prefix="tiles" uri="~~~~~~~/tag-tiles" %>
<tiles:insertAttribute name="tiles.xml에 설정한 변수이름" />



 # Tiles 패턴 사용하기.

tiles.xml 추가설정.
입력받는 url을 * 로 하고 attribute 설정 url을 {1}로 사용하면 순서대로 입력받은 * 을 url에 사용할 수 있다.
입력받은 url 구분표시를 ' . '으로 하는 이유는 다른 Resolver와 혼선을 막기 위해서이다.



 # Admin을 위한 Layout 페이지 만들기.

홈 페이지 설정.
url 설정에서 " / * " 로 설정하면 모든 url을 받기 때문에 문제가 발생한다.
" home. * " 등 임시이름을 아무거나 등록해서 Controller 메소드에서 임시이름으로 호출하게 만들어준다.



 # Tiles의 추가 기능들.

레이아웃 중첩.
<put-attribute>로 url을 설정해줄 때 value에서 다른 레이아웃을 설정해서 호출해서 사용할 수 있다.\
extends="레이아웃"을 통해 상속을 받을 수 있다.
casecade="true"를 통해 안에서만 사용하는 url을 설정할 수 있다.



 # MyBatis 설정하기.

설정 과정.
1. mybatis 라이브러리, JDBC 라이브러리 설정.
2. applcation.properties dataSource 설정.
3. DAO 인터페이스에 @Mapper 설정 및 SQL 추상메소드 생성.
4. DAO 구현 객체 생성 @Autowired.



 # Mapper 객체 만들기.

라이브러리 설정. ( starter 추가하기 )
프로젝트 우클릭 -> Spring -> Add starters -> sql -> Mysql, JDBC 라이브러리 선택 -> next -> copy All.

DAO 인터페이스.
@Mapper
public interface 인터페이스Dao { 
	@Select( "select * from 테이블이름" )
	List<Notice> getList( ) ;
} 

application.properties 설정.
spring.datasource.river-class-name=oracle.jdbc.driver.OracleDriver
spring.datasource.url=jdbc:oracle:thin:@localhost:1521:orcl
spring.datasource.username=커넥트아이디
spring.datasource.password=커넥트비밀번호



 # 스프링 객체 사용방법. 

Dependency.
Association Has A : 전역변수로 생성하고, 생성자에서 초기화.
Composition Has A : 전역변수로 생성하고, 필요한 메소드에서 초기화.
메소드에서 생성 초기화하는 방법.

Injection.
Contructor Injection : 생성자를 통한 Injection 방법.
Setter Injection : setter 메소드를 통한 Injection 방법.

IoC 컨테이너.
Spring에서 클래스를 보관하는 저장장소. 

@Component.
IoC에 클래스를 보관하게 도와주는 어노테이션.

@Component 종류.
@Controller.
@Service.
@Repository.
@Configuration.

@Autowired.
injection을 IoC에서 가능하게하는 도와주는 어노테이션.



 # Mapper 객체를 이용해서 공지목록 출력하기.

과정.
데이터를 전역변수로 담는 클래스 생성. ( Model 클래스 )
DAO 인터페이스 생성. ( @Mapper , @Select - sql 메소드 )
Service 인터페이스 생성. ( 어떠한 로직을 수행하는 메소드를 가진 인터페이스 )
Service를 구현하는 클래스 생성. ( @Autowired DAO, DAO를 활용하여 Service 구현 )
Controller에서 Service 인터페이스 활용. ( 데이터 입력받기 )




